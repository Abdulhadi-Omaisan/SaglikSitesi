<!DOCTYPE html>
<html lang="ar" dir="rtl" id="main-html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hastane - KarabÃ¼k SaÄŸlÄ±k Sistemi</title>
    <style>
        :root { --primary: #1b4332; --secondary: #2d6a4f; --accent: #d8f3dc; --bg: #f8f9fa; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: var(--bg); color: #333; transition: 0.3s; }
        
        header { 
            background: white; padding: 15px 5%; display: flex; justify-content: space-between; 
            align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 1000;
        }
        .logo { font-size: 1.6rem; font-weight: bold; color: var(--primary); }
        .nav-btns { display: flex; align-items: center; gap: 10px; }
        .nav-btns a { text-decoration: none; padding: 10px 15px; border-radius: 8px; font-weight: 600; transition: 0.3s; font-size: 0.9rem; }
        .btn-my-bookings { color: var(--primary); border: 1px solid var(--primary); }
        .btn-staff { background: var(--primary); color: white; }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù„ØºØ© */
        .lang-switcher { display: flex; gap: 5px; margin: 0 10px; }
        .lang-btn { cursor: pointer; border: 1px solid #ddd; padding: 5px 8px; border-radius: 5px; font-size: 0.75rem; background: #fff; font-weight: bold; }
        .lang-btn:hover { background: var(--accent); }

        .hero { background: var(--primary); color: white; padding: 80px 20px; text-align: center; border-radius: 0 0 50px 50px; }
        .container { max-width: 1100px; margin: -50px auto 50px; padding: 20px; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .card { 
            background: white; padding: 40px; border-radius: 20px; text-align: center; cursor: pointer; 
            transition: 0.3s; box-shadow: 0 10px 25px rgba(0,0,0,0.05); border: 1px solid #eee;
        }
        .card:hover { transform: translateY(-10px); border-color: var(--secondary); }
        .card i { font-size: 3rem; display: block; margin-bottom: 20px; }
        
        #nobetci-alert { 
            background: #d1e7dd; color: #0f5132; padding: 15px; text-align: center; 
            font-weight: bold; border-bottom: 2px solid #badbcc; display: none; 
        }
    </style>
</head>
<body id="body-tag">

<div id="nobetci-alert"></div>

<header>
    <div class="logo">ğŸ¥ HASTANE</div>
    <div class="nav-btns">
        <div class="lang-switcher">
            <button class="lang-btn" onclick="setLanguage('ar')">AR</button>
            <button class="lang-btn" onclick="setLanguage('tr')">TR</button>
            <button class="lang-btn" onclick="setLanguage('en')">EN</button>
        </div>
        <a href="my-bookings.html" class="btn-my-bookings" id="nav-bookings">Ø­Ø¬ÙˆØ²Ø§ØªÙŠ</a>
        <a href="login.html" class="btn-staff" id="nav-staff">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</a>
    </div>
</header>

<div class="hero">
    <h1 id="hero-title">Ø±Ø¹Ø§ÙŠØªÙƒÙ… Ù‡ÙŠ Ø£ÙˆÙ„ÙˆÙŠØªÙ†Ø§ ÙÙŠ ÙƒØ§Ø±Ø§Ø¨ÙˆÙƒ</h1>
    <p id="hero-desc">Ø§Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯Ùƒ Ø§Ù„Ø·Ø¨ÙŠ Ø£Ùˆ Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£Ù‚Ø±Ø¨ ØµÙŠØ¯Ù„ÙŠØ© Ù…Ù†Ø§ÙˆØ¨Ø© Ø¨Ø³Ù‡ÙˆÙ„Ø©</p>
</div>

<div class="container">
    <div class="card" onclick="location.href='pharmacies.html'">
        <i>ğŸ’Š</i>
        <h2 id="card-pharmacy-title">Ø¯Ù„ÙŠÙ„ Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ§Øª</h2>
        <p id="card-pharmacy-desc">ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ§Øª Ø§Ù„Ù…ÙØªÙˆØ­Ø© Ø§Ù„Ø¢Ù† ÙˆØ§Ù„Ù…Ù†Ø§ÙˆØ¨Ø© ÙÙŠ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©.</p>
    </div>

    <div class="card" onclick="location.href='booking.html'">
        <i>ğŸ“…</i>
        <h2 id="card-booking-title">Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯</h2>
        <p id="card-booking-desc">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù… ÙˆØ§Ù„Ø·Ø¨ÙŠØ¨ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ ÙˆÙ‚Ù… Ø¨ØªØ£ÙƒÙŠØ¯ Ø­Ø¬Ø²Ùƒ Ø±Ø³Ù…ÙŠØ§Ù‹.</p>
    </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
<script>
    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ
    const firebaseConfig = {
        apiKey: "AIzaSyBD2Ge6v0TStampv_l_bRGnzTDVPKvCW20",
        authDomain: "hastane-b2c48.firebaseapp.com",
        projectId: "hastane-b2c48",
        storageBucket: "hastane-b2c48.firebasestorage.app",
        messagingSenderId: "788913029956",
        appId: "1:788913029956:web:84c2f36a5569c85bfd8d11"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // Ù†ØµÙˆØµ Ø§Ù„ØªØ±Ø¬Ù…Ø© Ù„Ù„ØºØ§Øª Ø§Ù„Ø«Ù„Ø§Ø«
    const content = {
        ar: {
            navBookings: "Ø­Ø¬ÙˆØ²Ø§ØªÙŠ",
            navStaff: "Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†",
            heroTitle: "Ø±Ø¹Ø§ÙŠØªÙƒÙ… Ù‡ÙŠ Ø£ÙˆÙ„ÙˆÙŠØªÙ†Ø§ ÙÙŠ ÙƒØ§Ø±Ø§Ø¨ÙˆÙƒ",
            heroDesc: "Ø§Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯Ùƒ Ø§Ù„Ø·Ø¨ÙŠ Ø£Ùˆ Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£Ù‚Ø±Ø¨ ØµÙŠØ¯Ù„ÙŠØ© Ù…Ù†Ø§ÙˆØ¨Ø© Ø¨Ø³Ù‡ÙˆÙ„Ø©",
            pharmacyTitle: "Ø¯Ù„ÙŠÙ„ Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ§Øª",
            pharmacyDesc: "ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ§Øª Ø§Ù„Ù…ÙØªÙˆØ­Ø© Ø§Ù„Ø¢Ù† ÙˆØ§Ù„Ù…Ù†Ø§ÙˆØ¨Ø© ÙÙŠ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©.",
            bookingTitle: "Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯",
            bookingDesc: "Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù… ÙˆØ§Ù„Ø·Ø¨ÙŠØ¨ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ ÙˆÙ‚Ù… Ø¨ØªØ£ÙƒÙŠØ¯ Ø­Ø¬Ø²Ùƒ Ø±Ø³Ù…ÙŠØ§Ù‹.",
            alertPrefix: "ğŸ“¢ Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ© Ø§Ù„Ù…Ù†Ø§ÙˆØ¨Ø© Ø§Ù„Ø¢Ù†: ",
            dir: "rtl"
        },
        tr: {
            navBookings: "RandevularÄ±m",
            navStaff: "Personel GiriÅŸi",
            heroTitle: "KarabÃ¼k'te SaÄŸlÄ±ÄŸÄ±nÄ±z Ã–nceliÄŸimizdir",
            heroDesc: "TÄ±bbi randevunuzu alÄ±n veya en yakÄ±n nÃ¶betÃ§i eczaneyi kolayca bulun",
            pharmacyTitle: "Eczane Rehberi",
            pharmacyDesc: "Åehirdeki aÃ§Ä±k ve nÃ¶betÃ§i eczaneleri hemen Ã¶ÄŸrenin.",
            bookingTitle: "Randevu Al",
            bookingDesc: "BÃ¶lÃ¼mÃ¼nÃ¼zÃ¼ ve doktorunuzu seÃ§in, randevunuzu onaylayÄ±n.",
            alertPrefix: "ğŸ“¢ Åu An NÃ¶betÃ§i Eczane: ",
            dir: "ltr"
        },
        en: {
            navBookings: "My Bookings",
            navStaff: "Staff Login",
            heroTitle: "Your Health is Our Priority in KarabÃ¼k",
            heroDesc: "Book your medical appointment or find the nearest on-duty pharmacy easily",
            pharmacyTitle: "Pharmacy Guide",
            pharmacyDesc: "Find out which pharmacies are open and on-duty in the city.",
            bookingTitle: "Book Appointment",
            bookingDesc: "Choose your department and doctor, and confirm your booking officially.",
            alertPrefix: "ğŸ“¢ Pharmacy on duty now: ",
            dir: "ltr"
        }
    };

    function setLanguage(lang) {
        localStorage.setItem('lang', lang);
        const html = document.getElementById('main-html');
        html.lang = lang;
        html.dir = content[lang].dir;

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ ÙÙŠ Ø§Ù„ØµÙØ­Ø©
        document.getElementById('nav-bookings').innerText = content[lang].navBookings;
        document.getElementById('nav-staff').innerText = content[lang].navStaff;
        document.getElementById('hero-title').innerText = content[lang].heroTitle;
        document.getElementById('hero-desc').innerText = content[lang].heroDesc;
        document.getElementById('card-pharmacy-title').innerText = content[lang].pharmacyTitle;
        document.getElementById('card-pharmacy-desc').innerText = content[lang].pharmacyDesc;
        document.getElementById('card-booking-title').innerText = content[lang].bookingTitle;
        document.getElementById('card-booking-desc').innerText = content[lang].bookingDesc;
        
        // Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
        loadPharmacyAlert(lang);
    }

    function loadPharmacyAlert(lang) {
        db.collection("settings").doc("pharmacy").onSnapshot((doc) => {
            if (doc.exists) {
                const data = doc.data();
                const alertBox = document.getElementById('nobetci-alert');
                alertBox.style.display = 'block';
                const prefix = content[lang].alertPrefix;
                alertBox.innerHTML = `${prefix} ${data.name} | <a href="${data.location}" target="_blank" style="color: #0f5132;"> Link ğŸ“ </a>`;
            }
        });
    }

    // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ø£Ùˆ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹
    const savedLang = localStorage.getItem('lang') || 'ar';
    setLanguage(savedLang);

</script>
</body>
</html>
