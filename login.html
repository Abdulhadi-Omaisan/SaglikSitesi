<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ - HASTANE</title>
    <style>
        :root { --primary: #1b4332; --bg: #f8f9fa; }
        body { 
            font-family: 'Segoe UI', sans-serif; 
            background: var(--bg); 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            margin: 0; 
            flex-direction: column;
        }
        .login-card { 
            background: white; 
            padding: 40px; 
            border-radius: 20px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
            width: 350px; 
            text-align: center; 
        }
        .logo-area { font-size: 2rem; font-weight: bold; color: var(--primary); margin-bottom: 20px; }
        input { 
            width: 100%; padding: 12px; margin: 10px 0; 
            border: 1px solid #ddd; border-radius: 10px; box-sizing: border-box; 
        }
        button { 
            width: 100%; padding: 12px; background: var(--primary); 
            color: white; border: none; border-radius: 10px; 
            cursor: pointer; font-size: 1rem; font-weight: bold; transition: 0.3s;
        }
        button:hover { background: #2d6a4f; }
        .error { color: #e74c3c; font-size: 0.85rem; display: none; margin-top: 10px; }
        .back-link { margin-top: 20px; text-decoration: none; color: #666; font-size: 0.9rem; }
    </style>
</head>
<body>

<div class="login-card">
    <div class="logo-area">ğŸ¥ HASTANE</div>
    <h3 style="color: #333; margin-bottom: 20px;">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</h3>
    
    <input type="email" id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
    <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
    
    <p id="errorMsg" class="error">Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±!</p>
    
    <button id="loginBtn" onclick="login()">Ø¯Ø®ÙˆÙ„</button>
</div>

<a href="index.html" class="back-link">â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>

<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>

<script>
  // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase Ø§Ù„Ù…ÙˆØ­Ø¯Ø©
  const firebaseConfig = {
    apiKey: "AIzaSyBD2Ge6v0TStampv_l_bRGnzTDVPKvCW20",
    authDomain: "hastane-b2c48.firebaseapp.com",
    projectId: "hastane-b2c48",
    storageBucket: "hastane-b2c48.firebasestorage.app",
    messagingSenderId: "788913029956",
    appId: "1:788913029956:web:84c2f36a5569c85bfd8d11"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  function login() {
      const email = document.getElementById('email').value;
      const pass = document.getElementById('password').value;
      const btn = document.getElementById('loginBtn');
      const errorMsg = document.getElementById('errorMsg');

      if(!email || !pass) {
          alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ø©");
          return;
      }

      btn.disabled = true;
      btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...";
      errorMsg.style.display = 'none';

      auth.signInWithEmailAndPassword(email, pass)
          .then((userCredential) => {
              // ØªÙˆØ¬ÙŠÙ‡ Ø°ÙƒÙŠ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„
              if(email.includes("admin")) {
                  localStorage.setItem('role', 'admin');
                  location.href = 'dashboard-admin.html';
              } else {
                  localStorage.setItem('role', 'doctor');
                  location.href = 'dashboard-doctor.html';
              }
          })
          .catch((error) => {
              errorMsg.style.display = 'block';
              btn.disabled = false;
              btn.innerText = "Ø¯Ø®ÙˆÙ„";
          });
  }
</script>
</body>
</html>